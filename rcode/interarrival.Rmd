---
title: "interarrival"
author: "Claire Jellison"
date: "4/8/2020"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r}
library(dplyr)
library(tidyverse)
```


Okay, first to find the average arrival time for each campaign

```{r}
# looking at campaigns with more than 100 donors
dhistinter2 <- dhistall %>% 
  dplyr::filter(countd >= 100) %>%
  dplyr::filter(!is.na(timebefore)) %>%
  group_by(urlsolid) %>% 
  mutate(quartile = ntile(timebefore, 4), decile = ntile(timebefore, 10))

```



```{r}
meanq <- lm(amount ~ histavg*lagtype + as.factor(quartile)*histavg, data = dhistinter2)
meanq2 <- lm(amount ~ histavg*lagtype + as.factor(decile)*histavg, data = dhistinter2)

summary(meanq)
summary(meanq2)
```

